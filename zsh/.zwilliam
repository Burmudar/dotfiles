# User configuration
alias h='cd $HOME'
export SRC="$HOME/programming/"

if [[ $OSTYPE == "darwin"* ]]; then
    export PATH="/usr/local/share/python:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    export GOROOT=/usr/local/go
    export PATH=$PATH:$GOROOT/bin
else
    export GOROOT="/usr/local/go"  
fi

export GOPATH="$SRC/golang"
export GOBIN="$GOPATH/bin"
export PATH="$PATH:$GOROOT/bin"
export PATH="$PATH:$SRC/bin"

# aliases
alias aenv='source $(find . -name "activate")'
alias denv='deactivate'

# Preferred editor for local and remote sessions
export EDITOR='vim'

# correct locale
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
# nice terminal colours
export TERM=xterm-256color

# starship.rs
eval $(starship init zsh)


# aliases
alias aenv='source $(find . -name "activate")'
alias denv='deactivate'

pj () {
    QUERY=${1:-''}

    if [ ! -z ${QUERY} ]
    then
        echo $QUERY
        cd $SRC/$(ls $SRC | peco --select-1 --query $QUERY --prompt 'project:')
    else
        cd $SRC/$(ls $SRC | peco --prompt 'project:')
    fi
}

gitb () {
    QUERY=${1:-''}
    PROMPT="branch:"
    BRANCH=""

    BRANCHES=$(git branch -a | sed -n -e 's/remotes\/origin\///p')

    if [ ! -z ${QUERY} ]
    then
        echo $QUERY
        BRANCH=$(echo ${BRANCHES} | peco --select-1 --query ${QUERY} --prompt ${PROMPT})
    else
        BRANCH=$(echo ${BRANCHES} | peco --prompt ${PROMPT})
    fi

    git checkout $(echo -e "${BRANCH}" | tr -d '[:space:]')
}
